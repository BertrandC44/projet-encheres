<!DOCTYPE html>
<html>
<head th:insert="~{fragments/liens::liens}">
<meta charset="UTF-8">


<title>Enchères en cours</title>



<link rel="stylesheet" href=
"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>


<body>
<header th:replace="~{fragments/entete::entete}"></header>

<p th:text="${article.idArticle}"></p>
<main>
	
	<form class="login-form" th:action="@{/encheres/encherir(idArticle=${article.idArticle})}" method="post" th:object=${enchere}>
		<h1>Enchérir</h1>
		<input type="hidden" name="idArticle" th:value="${article.idArticle}" />
		  
		<input type="hidden" name="dateEnchere" th:value="${dateEnchere}" /> 
		
		<input type="hidden" name="utilisateurEnSession" th:value="${utilisateurEnSession}" /> 
		
		<h2 th:text="${article.nomArticle}"></h2> 

<!-- 		<p class="erreur" th:if="${#fields.hasErrors('encherir')}" th:errors="*{encherir}"></p>   -->
		<ul>
			<li>
			<img class="img-enchere" th:src="@{${'/images/'+ article.categorie.image}}" alt="photo de la catégorie de l'article" width="100"/>
			</li>
			<li class="">
				<label for="description">Description : </label>
			<textarea type="text" id="description" th:text="${article.description}" ></textarea> 
			</li>
			<li class="">
				<label for="categorie">Catégorie : </label>
			<span type="text" id="categorie" th:text="${categorieArticle}" ></span> 
			</li>
			<li>
				<label for="mOffre">Meilleure offre : </label>
				<span type="text" id="mOffre" th:text="${montantMax} + ' points par ' +  ${utilisateurMontantMax}"></span>

			</li>
			<li>
				<label for="miseAPrix">Mise à prix : </label>
				<span type="text" id="miseAPrix" th:text="${article.miseAPrix} + ' points'" > </span>

			</li>
			<li>
				<label for="dateFinEncheres">Fin de l'enchère : </label>
				<span id="dateFinEncheres" th:text="${#temporals.format(article.dateFinEncheres, 'dd/MM/yyyy')}"></span>
			</li>
			<li>
				<label for="retrait">Retrait : </label>
				<p type="text" id="retrait" th:text="${article.retrait.rue}"></p>
				<p type="text" id="retrait" th:text="${article.retrait.codePostal} + ' ' + ${article.retrait.ville}" > </p>
			</li>
			<li>
				<label for="vendeur">Vendeur : </label>
				<span type="text" id="utilisateur" th:text="${article.utilisateur.pseudo}" > </span>
			</li>
			<li>
				<label for="montantEnchere">Ma proposition : </label>
				<input type="number" id="montantEnchere"  name="montantEnchere" th:attr="min=${enchereMin}" th:value="${montantEnchere}" required>
			</li>
			<li>
				<button type="submit" class="form-button" name="encherir">Enchérir</button>
			</li>	
		</ul>
	</form>
</main>


</body>
</html>